<!DOCTYPE HTML>
<html>

<head>
	<script src="{:C('LAY_URL')}layer.js" }></script>
	<title>Basic Forms</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="Novus Admin Panel Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
SmartPhone Compatible web template, free WebDesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
	<script type="application/x-javascript">
		addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); }
	</script>
	<!-- Bootstrap Core CSS -->
	<link href="{:C('CSS_URL')}bootstrap.css" rel='stylesheet' type='text/css' />
	<!-- Custom CSS -->
	<link href="{:C('CSS_URL')}style.css" rel='stylesheet' type='text/css' />
	<!-- font CSS -->
	<!-- font-awesome icons -->
	<link href="{:C('CSS_URL')}font-awesome.css" rel="stylesheet">
	<!-- //font-awesome icons -->
	<!-- js-->
	<script src="{:C('JS_URL')}jquery-1.11.1.min.js"></script>
	<script src="{:C('JS_URL')}modernizr.custom.js"></script>
	<!--webfonts-->
	<link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300,300italic,400italic,700,700italic' rel='stylesheet'
	 type='text/css'>
	<!--//webfonts-->
	<!--animate-->
	<link href="{:C('CSS_URL')}animate.css" rel="stylesheet" type="text/css" media="all">
	<script src="{:C('JS_URL')}wow.min.js"></script>
	<script>
		new WOW().init();
	</script>
	<!--//end-animate-->
	<!-- Metis Menu -->
	<script src="{:C('JS_URL')}metisMenu.min.js"></script>
	<script src="{:C('JS_URL')}custom.js"></script>
	<link href="{:C('CSS_URL')}custom.css" rel="stylesheet">
	<!--//Metis Menu -->
</head>

<body class="cbp-spmenu-push">
	<div class="main-content">
		<!--left-fixed -navigation-->
		<include file="./Application/Admin/View/View/navi.html" />
		<!--left-fixed -navigation-->
		<!-- header-starts -->
		<include file="./Application/Admin/View/View/header.html" />
		<!-- //header-ends -->
		<!-- main content start-->
		<div id="page-wrapper">
			<div class="main-page">
				<div class="forms">
					<h3 class="title1">添加类型</h3>
					<div class="row">
						<h2 class="title1"></h2>
						<div class="form-three widget-shadow">
							<form class="form-horizontal" action="" method="post" onsubmit="return add()">
								<input type="hidden" name="role_id" value="{$info.role_id}">
								<div class="form-group">
									<label for="focusedinput" class="col-sm-2 control-label">类型名</label>
									<div class="col-sm-8">
										<input type="text" class="form-control1" id="focusedinput" name="type_name" placeholder="{$info['role_name']}">
									</div>
								</div>
								<button type="submit" class="btn btn-large btn-block btn-default">提交</button>
							</form>
						</div>
					</div>
				</div>
			</div>

		</div>

		<!--footer-->
		<include file="./Application/Admin/View/View/footer.html" />
		<!--//footer-->
	</div>
	<!-- Classie -->
	<script src="{:C('JS_URL')}classie.js"></script>
	<script>
		var menuLeft = document.getElementById('cbp-spmenu-s1'),
			showLeftPush = document.getElementById('showLeftPush'),
			body = document.body;

		showLeftPush.onclick = function () {
			classie.toggle(this, 'active');
			classie.toggle(body, 'cbp-spmenu-push-toright');
			classie.toggle(menuLeft, 'cbp-spmenu-open');
			disableOther('showLeftPush');
		};

		function disableOther(button) {
			if (button !== 'showLeftPush') {
				classie.toggle(showLeftPush, 'disabled');
			}
		}
	</script>
	<!--scrolling js-->
	<script src="{:C('JS_URL')}jquery.nicescroll.js"></script>
	<script src="{:C('JS_URL')}scripts.js"></script>
	<!--//scrolling js-->
	<!-- Bootstrap Core JavaScript -->
	<script src="{:C('JS_URL')}bootstrap.js">

	</script>
</body>

<!--进入极限ajax模式，提交类型名触发-->
<script>
		function add() {
			var index = layer.load(0, { shade: false }); //0代表加载的风格，支持0-2
			
			$.ajax({
				type: "post",
				url: "{:U('add')}",
				data: "type_name=" + $("#focusedinput").val(),
				dataType: "json",
				success: function (msg) {
					if (msg["status"] == 200) {
						layer.closeAll("loading"); 
						layer.confirm('类型:  ' + msg["type_name"] + " 添加成功，是否继续添加类型", {
							btn: ['继续添加', '不，添加完成'] //按钮
						}, function () {
							 layer.msg('可以继续执行添加操作');
						}, function () {
							window.location.href="{:U('showlist')}"; 
						});
					}
				}
			});
			return false;
		}

</script>

</html>